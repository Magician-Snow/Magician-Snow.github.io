<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Spring04 | 祈雨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="SpringMVC的数据的请求和响应1. SpringMVC的数据相应方式1. 页面跳转  直接返回字符串 通过ModelAndView对象返回  2.回写数据  直接返回字符串 返回对象或集合  2. 页面跳转​    (1).返回字符串形式 ​        此种方式会将返回的字符串与视图解析器的前后缀拼接后跳转  ​    该种形式就是上面代码模拟的形式 ​    (2).返回ModelAn">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring04">
<meta property="og:url" content="http://example.com/2023/04/25/Spring04/index.html">
<meta property="og:site_name" content="祈雨">
<meta property="og:description" content="SpringMVC的数据的请求和响应1. SpringMVC的数据相应方式1. 页面跳转  直接返回字符串 通过ModelAndView对象返回  2.回写数据  直接返回字符串 返回对象或集合  2. 页面跳转​    (1).返回字符串形式 ​        此种方式会将返回的字符串与视图解析器的前后缀拼接后跳转  ​    该种形式就是上面代码模拟的形式 ​    (2).返回ModelAn">
<meta property="og:locale">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9Vqgdx.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9VOPjH.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9VOxqs.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9VxqTs.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9Vze1K.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9VzXHH.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9ZSVEj.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9ZSu80.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9ZSGVJ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9Zpmee.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/22/p9Zp5Sx.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9Zx2Us.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9ZxfCq.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9ZxxxK.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eFYtg.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eiHln.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eFkm6.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9ekC4g.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eF5B6.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eF29J.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eAqOI.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eEyAf.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eVAvd.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eeA0I.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eQIbQ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9elNZQ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9e3K3t.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eYsQ1.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eYLTS.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9etep9.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eU9aT.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9etep9.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9edQvd.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9ed2PU.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9ewnZq.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9e0l7t.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eW8SI.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eWNm8.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eWy60.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9efENQ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9efqvq.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9e5YCQ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9e5wD0.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9e5hb6.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9e73ss.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9ebDV1.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9ebbRS.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eqAsJ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eqJeA.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/23/p9eq6wn.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9mUl9g.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9ma0dP.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9mdEwt.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9mdXcQ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9m0QZn.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9mBFOJ.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9mB7A1.png">
<meta property="og:image" content="https://s1.ax1x.com/2023/04/24/p9mBbh6.png">
<meta property="article:published_time" content="2023-04-25T11:27:33.000Z">
<meta property="article:modified_time" content="2023-04-25T11:28:11.817Z">
<meta property="article:author" content="nature">
<meta property="article:tag" content="SSM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2023/04/22/p9Vqgdx.png">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">祈雨</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Spring04" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/04/25/Spring04/" class="article-date">
  <time datetime="2023-04-25T11:27:33.000Z" itemprop="datePublished">2023-04-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Spring04
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="SpringMVC的数据的请求和响应"><a href="#SpringMVC的数据的请求和响应" class="headerlink" title="SpringMVC的数据的请求和响应"></a>SpringMVC的数据的请求和响应</h2><h4 id="1-SpringMVC的数据相应方式"><a href="#1-SpringMVC的数据相应方式" class="headerlink" title="1. SpringMVC的数据相应方式"></a>1. SpringMVC的数据相应方式</h4><p><strong>1. 页面跳转</strong></p>
<ul>
<li>直接返回字符串</li>
<li>通过ModelAndView对象返回</li>
</ul>
<p><strong>2.回写数据</strong></p>
<ul>
<li>直接返回字符串</li>
<li>返回对象或集合</li>
</ul>
<h4 id="2-页面跳转"><a href="#2-页面跳转" class="headerlink" title="2. 页面跳转"></a>2. 页面跳转</h4><p>​    <strong>(1).返回字符串形式</strong></p>
<p>​        此种方式会将返回的字符串与视图解析器的前后缀拼接后跳转</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9Vqgdx"><img src="https://s1.ax1x.com/2023/04/22/p9Vqgdx.png" alt="p9Vqgdx.png"></a></p>
<p>​    该种形式就是上面代码模拟的形式</p>
<p>​    <strong>(2).返回ModelAndView形式</strong></p>
<p>​    Model表示模型，作用为封装数据；View表示视图，作用为展示数据。在返回视图给页面时可以不携带数据，只展示视图</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9VOPjH"><img src="https://s1.ax1x.com/2023/04/22/p9VOPjH.png" alt="p9VOPjH.png"></a></p>
<p>​    modelAndView.setViewName(“页面路径”)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ModelAndView mv = <span class="keyword">new</span> ModelAndView(<span class="string">&quot;/user/save/result&quot;</span>);<span class="comment">//默认为forward模式  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ModelAndView mv = new ModelAndView(&quot;redirect:/user/save/result&quot;);//redirect模式</span></span><br></pre></td></tr></table></figure>



<p>​    也可以为model设置数据，通过方法<code>modelAndView.addObject(键值对)</code></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9VOxqs"><img src="https://s1.ax1x.com/2023/04/22/p9VOxqs.png" alt="p9VOxqs.png"></a></p>
<p>​    当然也可以换一种方式，通过注入思想，直接在方法传递形参，因为本身方法是SpringMVC调用，所以在调用方法时自动创造形参相对应的对象</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9VxqTs"><img src="https://s1.ax1x.com/2023/04/22/p9VxqTs.png" alt="p9VxqTs.png"></a></p>
<p>​    在使用字符串形式时，也可以通过Model对象来传递参数，下面代码的model对象也是由SpringMVC自动创建</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9Vze1K"><img src="https://s1.ax1x.com/2023/04/22/p9Vze1K.png" alt="p9Vze1K.png"></a></p>
<h4 id="3-回写数据"><a href="#3-回写数据" class="headerlink" title="3. 回写数据"></a>3. 回写数据</h4><p>​    <strong>(1).直接返回字符串</strong></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9VzXHH"><img src="https://s1.ax1x.com/2023/04/22/p9VzXHH.png" alt="p9VzXHH.png"></a></p>
<p>​    可以通过SpringMVC框架直接注入：通过形参声明response引用类型由SpringMVC分配对象</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ZSVEj"><img src="https://s1.ax1x.com/2023/04/22/p9ZSVEj.png" alt="p9ZSVEj.png"></a></p>
<p>​    注意：回写是不需要跳转，方法返回值为void</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ZSu80"><img src="https://s1.ax1x.com/2023/04/22/p9ZSu80.png" alt="p9ZSu80.png"></a></p>
<p>​    浏览器输入页面后得到回写的字符串</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ZSGVJ"><img src="https://s1.ax1x.com/2023/04/22/p9ZSGVJ.png" alt="p9ZSGVJ.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9Zpmee"><img src="https://s1.ax1x.com/2023/04/22/p9Zpmee.png" alt="p9Zpmee.png"></a></p>
<p>​    注意：该注解加在方法前，如果不加注解，SpringMVC会把返回的return的字符串当作跳转页面名称进行资源匹配</p>
<p>​    使用<code>@ResponseBody</code>注解进行字符串的回写</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9Zp5Sx"><img src="https://s1.ax1x.com/2023/04/22/p9Zp5Sx.png" alt="p9Zp5Sx.png"></a></p>
<p>​    上述回写字符串一般没什么意义，在实际开发中会回写json格式字符串，把某个实体类中存储的数据转换器json格式进行返回</p>
<p>​    首先在pom.xml导json相关的包，</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9Zx2Us"><img src="https://s1.ax1x.com/2023/04/23/p9Zx2Us.png" alt="p9Zx2Us.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ZxfCq"><img src="https://s1.ax1x.com/2023/04/23/p9ZxfCq.png" alt="p9ZxfCq.png"></a></p>
<p>​    通过新建对象ObjectMapper，并调用对象中方法<code>writeValueAsString(要转成json格式字符串的对象)</code>，进行转换</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ZxxxK"><img src="https://s1.ax1x.com/2023/04/23/p9ZxxxK.png" alt="p9ZxxxK.png"></a></p>
<p>​    <strong>(2).返回对象或者集合</strong></p>
<p>​    对于手动转型为字符串的操作，SpringMVC有提供自动转型的功能，但要实现该功能需要手动的进行配置</p>
<p>​    找处理器适配器<code>(org.springframework.web.servlet.HandlerAdapter)</code>中的<code>RequestMappingHandlerAdapter</code>，在这个类中提供有<code>setMessageConverters</code>方法指定多个消息转换器</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eFYtg"><img src="https://s1.ax1x.com/2023/04/23/p9eFYtg.png" alt="p9eFYtg.png"></a></p>
<p>​    在spring-mvc.xml文件中注入且<strong>修改处理器适配器的转换逻辑</strong></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eiHln"><img src="https://s1.ax1x.com/2023/04/23/p9eiHln.png" alt="p9eiHln.png"></a></p>
<p>​    此时在java类只要传递对象SpringMVC就可以自动的把它转换为json格式</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eFkm6"><img src="https://s1.ax1x.com/2023/04/23/p9eFkm6.png" alt="p9eFkm6.png"></a></p>
<p>​    除了上述的spring-mvc.xml配置非常繁琐还可以通过如下方式简化配置</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ekC4g"><img src="https://s1.ax1x.com/2023/04/23/p9ekC4g.png" alt="p9ekC4g.png"></a></p>
<p>​    <strong>HandlerMapping(处理器映射器)，是SpringMVC中用来处理Request请求URL到具体Controller的，其自身也分成很多种类；</strong></p>
<p>​    <strong>HandlerAdapter(处理器适配器)，是SpringMVC中用来处理具体请求映射到具体方法的，其自身也分很多种类</strong></p>
<p>​    在spring-mvc.xml文件中配置注解驱动取代注入配置处理器适配器，注意：使用mvc的注解驱动需要导入命名空间和约束路径</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eF5B6"><img src="https://s1.ax1x.com/2023/04/23/p9eF5B6.png" alt="p9eF5B6.png"></a></p>
<p>​    导入完之后编写注解驱动</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eF29J"><img src="https://s1.ax1x.com/2023/04/23/p9eF29J.png" alt="p9eF29J.png"></a></p>
<h4 id="4-SpringMVC获得请求参数"><a href="#4-SpringMVC获得请求参数" class="headerlink" title="4. SpringMVC获得请求参数"></a>4. SpringMVC获得请求参数</h4><p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eAqOI"><img src="https://s1.ax1x.com/2023/04/23/p9eAqOI.png" alt="p9eAqOI.png"></a></p>
<p><strong>(1).获得基本类型参数</strong></p>
<p>​    Controller中的业务方法的参数名称要与请求参数的name一致，参数值会自动映射匹配</p>
<p>​    注意：客户端请求任何参数都是字符串形式，但用了Spring框架可以帮你把数据进行自动转型</p>
<p>​    编写方法获得请求参数<code>localhost:8080/user/quick11?username=zhangsan&amp;age=18</code> </p>
<p>​    该方法有<code>@ResponBody</code>表示不进行页面跳转，返回值为void表示不回写数据，两个形参由于接收GET请求的参数</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eEyAf"><img src="https://s1.ax1x.com/2023/04/23/p9eEyAf.png" alt="p9eEyAf.png"></a></p>
<p><strong>(2).获得POJO类型参数</strong></p>
<p>​    Controller中的业务方法的POJO参数的属性名与请求参数的name一致，参数值会自动映射匹配</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eVAvd"><img src="https://s1.ax1x.com/2023/04/23/p9eVAvd.png" alt="p9eVAvd.png"></a></p>
<p><strong>(3).获得数组类型参数</strong></p>
<p>​    Controller中的业务方法数组名称与请求参数的name一致，参数值会自动映射匹配</p>
<p>​    因为数组默认是打印地址，所以要使用<code>Arrays.asList()</code>方法打印</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eeA0I"><img src="https://s1.ax1x.com/2023/04/23/p9eeA0I.png" alt="p9eeA0I.png"></a></p>
<p><strong>(4).获得集合类型参数</strong></p>
<p>​    获得集合参数时，在编写方法时要将集合参数包装到一个POJO中，以POJO为形参才能够接收</p>
<p>​    封装的POJO一般叫做VO对象，为该对象生成get、set以及toString方法</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eQIbQ"><img src="https://s1.ax1x.com/2023/04/23/p9eQIbQ.png" alt="p9eQIbQ.png"></a></p>
<p>​    在提交数据时，需要使用form表单进行提交，name的属性值要与后端的值相同</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9elNZQ"><img src="https://s1.ax1x.com/2023/04/23/p9elNZQ.png" alt="p9elNZQ.png"></a></p>
<p>​    Controller业务中的方法vo来当作形参接收，vo与表单的userList[x]相对应</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9e3K3t"><img src="https://s1.ax1x.com/2023/04/23/p9e3K3t.png" alt="p9e3K3t.png"></a></p>
<p><strong>(5).获得ajax发送的集合类型参数</strong></p>
<p>​    当使用ajax提交时，可以指定contentType为json形式，那么在方法参数位置使用<code>@RequestBody</code>可以直接接收集合数据无需使用POJO进行包装</p>
<p>​    一般发生ajax请求除了可以使用原生的js外，还可以导入jQuery包</p>
<p>​    导入jQuery包，编写ajax请求</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eYsQ1"><img src="https://s1.ax1x.com/2023/04/23/p9eYsQ1.png" alt="p9eYsQ1.png"></a></p>
<p>​    服务端直接用集合来接收，方法参数前要加注解<code>@RequestBody</code></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eYLTS"><img src="https://s1.ax1x.com/2023/04/23/p9eYLTS.png" alt="p9eYLTS.png"></a></p>
<p>​    因为有静态资源访问的问题，需要在<code>spring-mvc.xml</code>文件下加一句话</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9etep9"><img src="https://s1.ax1x.com/2023/04/23/p9etep9.png" alt="p9etep9.png"></a></p>
<h4 id="5-SpringMVC获得请求参数-静态资源访问的开启"><a href="#5-SpringMVC获得请求参数-静态资源访问的开启" class="headerlink" title="5. SpringMVC获得请求参数-静态资源访问的开启"></a>5. SpringMVC获得请求参数-静态资源访问的开启</h4><p>​    如果不加静态资源设置spring-mvc.xml会使得访问不成功，原因是导入的jQuery文件找不到，因为在web.xml的文件中的前端控制器的配置是<code>/</code>，其是缺省的servlet，客户端发送请求找对应servlet进行处理，如果没有则全部交给缺省的进行处理，即下面代码中名字叫<code>DispatcherServlet</code>的servlet进行处理，但其内部进行虚拟路径的匹配，而jQuery.js也通过<code>@RequestMapping(&quot;/quick15&quot;)</code>进行匹配，但是没有，所以匹配不上</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eU9aT"><img src="https://s1.ax1x.com/2023/04/23/p9eU9aT.png" alt="p9eU9aT.png"></a></p>
<p>​    下面代码表示在SpringMVC框架中开放资源的访问权限，mapping表示映射地址，location表示哪个目录下的资源是对外开放的</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9etep9"><img src="https://s1.ax1x.com/2023/04/23/p9etep9.png" alt="p9etep9.png"></a></p>
<h4 id="6-请求数据乱码问题"><a href="#6-请求数据乱码问题" class="headerlink" title="6. 请求数据乱码问题"></a>6. 请求数据乱码问题</h4><p>​    Tomcat8.5的服务器，对于GET请求是不会乱码的，但POST请求对于中文会出现乱码问题</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9edQvd"><img src="https://s1.ax1x.com/2023/04/23/p9edQvd.png" alt="p9edQvd.png"></a></p>
<p>​    在web.xml文件中配置一个全局过滤器，并配置过滤器以那种方式进行编码，<code>&lt;filter-mapping&gt;</code> 配置对什么资源进行过滤，<code>/*</code>表示对所有的资源进行过滤</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ed2PU"><img src="https://s1.ax1x.com/2023/04/23/p9ed2PU.png" alt="p9ed2PU.png"></a></p>
<h4 id="7-参数绑定注解-requestParam"><a href="#7-参数绑定注解-requestParam" class="headerlink" title="7. 参数绑定注解@requestParam"></a>7. 参数绑定注解<code>@requestParam</code></h4><p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ewnZq"><img src="https://s1.ax1x.com/2023/04/23/p9ewnZq.png" alt="p9ewnZq.png"></a></p>
<p>​    实际意思就是，请求参数xxx与Controller中的业务方法的参数名称要不一致时，可以在Controller中的业务方法的参数名称使用<code>@requestParam(value=&quot;xxx&quot;)</code>绑定请求参数xxx，且该注解如果只有一个属性可以省略value</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9e0l7t"><img src="https://s1.ax1x.com/2023/04/23/p9e0l7t.png" alt="p9e0l7t.png"></a></p>
<h4 id="8-获得Restful风格的参数"><a href="#8-获得Restful风格的参数" class="headerlink" title="8. 获得Restful风格的参数"></a>8. 获得Restful风格的参数</h4><p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eW8SI"><img src="https://s1.ax1x.com/2023/04/23/p9eW8SI.png" alt="p9eW8SI.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eWNm8"><img src="https://s1.ax1x.com/2023/04/23/p9eWNm8.png" alt="p9eWNm8.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eWy60"><img src="https://s1.ax1x.com/2023/04/23/p9eWy60.png" alt="p9eWy60.png"></a></p>
<p>​    上述url地址/user/1中的1就是要获得的请求参数，在SpringMVC中可以使用占位符进行参数绑定。地址/user/1可以写成/user/{id}，占位符{id}对应的就是1的值。在业务方法中我们可以使用<code>@PathVariable</code>注解进行占位符的匹配获取工作</p>
<p>​    在<code>@RequestMapping(&quot;/quick/&#123;xxxx&#125;&quot;)</code>来进行占位符的声明，用<code>@PathVariable(value=&quot;xxxx&quot;)</code>来获取占位符对应的参数，<strong>xxxx必须完全匹配</strong>，并把参数赋值给方法的形参</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9efENQ"><img src="https://s1.ax1x.com/2023/04/23/p9efENQ.png" alt="p9efENQ.png"></a></p>
<h4 id="9-自定义类型转换器"><a href="#9-自定义类型转换器" class="headerlink" title="9. 自定义类型转换器"></a>9. 自定义类型转换器</h4><p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9efqvq"><img src="https://s1.ax1x.com/2023/04/23/p9efqvq.png" alt="p9efqvq.png"></a></p>
<p><strong>自定义类型转换器的开发步骤：</strong></p>
<ol>
<li>定义转换器类实现Converter接口(SpringMVC提供的转换器接口)</li>
<li>在Spring-mvc.xml配置文件中声明转换器</li>
<li>在<code>&lt;annotation-driven&gt;</code> 中引用转换器</li>
</ol>
<p>​    <code>Converter&lt;S,T&gt;</code>接口，要实现泛型，S代表要转换前的类型，后面的T代表要转成的类型，在该接口中有一个未实现方法convert需要实现，参数是S，返回值为T</p>
<p>​    新建一个DateConverter的实现类，实现converter接口</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9e5YCQ"><img src="https://s1.ax1x.com/2023/04/23/p9e5YCQ.png" alt="p9e5YCQ.png"></a></p>
<p>​    在Spring-mvc.xml配置文件中声明转换器，<code>&lt;list&gt;</code>中为刚刚自定义转换器类的全限定名 <a target="_blank" rel="noopener" href="https://imgse.com/i/p9e5wD0"><img src="https://s1.ax1x.com/2023/04/23/p9e5wD0.png" alt="p9e5wD0.png"></a></p>
<p>​    通过指定转换器工厂帮产生日期转换器，传刚刚注入的id值</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9e5hb6"><img src="https://s1.ax1x.com/2023/04/23/p9e5hb6.png" alt="p9e5hb6.png"></a></p>
<h4 id="10-获得Servlet相关API"><a href="#10-获得Servlet相关API" class="headerlink" title="10. 获得Servlet相关API"></a>10. 获得Servlet相关API</h4><p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9e73ss"><img src="https://s1.ax1x.com/2023/04/23/p9e73ss.png" alt="p9e73ss.png"></a></p>
<p>​    获取方式为，在想要使用的方法的形参进行注入，因为方法是框架调用，所以SpringMVC框架会帮你生成引用类型对应的对象</p>
<p>​    这个知识点前面有使用过</p>
<h4 id="11-获得请求头信息"><a href="#11-获得请求头信息" class="headerlink" title="11. 获得请求头信息"></a>11. 获得请求头信息</h4><p>​    请求头是键值对形式</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ebDV1"><img src="https://s1.ax1x.com/2023/04/23/p9ebDV1.png" alt="p9ebDV1.png"></a></p>
<p>​    注意：required的取值为true或者false，表示访问资源时是否要携带指定的请求头</p>
<p>​    <strong>网页的请求头</strong></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ebbRS"><img src="https://s1.ax1x.com/2023/04/23/p9ebbRS.png" alt="p9ebbRS.png"></a></p>
<p>​    获得请求头User-Agent请求头携带的信息，<code>@RequestHeader</code>的value对应的值要与网页的一致</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eqAsJ"><img src="https://s1.ax1x.com/2023/04/23/p9eqAsJ.png" alt="p9eqAsJ.png"></a></p>
<p>​    由于Cookie比较特殊，所以有如下注解获得Cookie对应的信息</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eqJeA"><img src="https://s1.ax1x.com/2023/04/23/p9eqJeA.png" alt="p9eqJeA.png"></a></p>
<p>​    使用<code>@CookieValue</code>获得cookie值</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9eq6wn"><img src="https://s1.ax1x.com/2023/04/23/p9eq6wn.png" alt="p9eq6wn.png"></a></p>
<h4 id="12-文件上传"><a href="#12-文件上传" class="headerlink" title="12. 文件上传"></a>12. 文件上传</h4><p><strong>文件上传客户端三要素</strong></p>
<pre><code>1. 表单项`type=&quot;file&quot;`

   2. 表单的提交方式是`POST`
   3. 表单的enctype属性是多部分表单形式，及`enctype=&quot;multipart/form-data&quot;`</code></pre>
<p>​    创建upload.jsp文件，编写文件上传表单</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9mUl9g"><img src="https://s1.ax1x.com/2023/04/24/p9mUl9g.png" alt="p9mUl9g.png"></a></p>
<p><strong>文件上传原理</strong></p>
<ul>
<li>当form表单修改为多部份表单时，request.getParameter()将失效</li>
<li>enctype=<code>&quot;application/x-www-form-urlencoded&quot;</code>时，form表单的正文格式是：<code>key=value&amp;key=value&amp;key=value</code>，即键值对格式，这种方法也是form表单的默认提交格式</li>
<li>当form表单的enctype取值为Mutilpart/form-data时，请求正文内容就变成多部分形式：</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9ma0dP"><img src="https://s1.ax1x.com/2023/04/24/p9ma0dP.png" alt="p9ma0dP.png"></a></p>
<p><strong>单文件上传步骤</strong></p>
<pre><code>1. 导入fileupload和io坐标

   2. 配置文件上传解析器，**应该这个xml文件也是由之前的`&lt;mvc-annotation-driven&gt;`解析的，这是我的猜测待考证**
   3. 编写文件上传代码</code></pre>
<p>​    在pom.xml导入fileupload和io坐标</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9mdEwt"><img src="https://s1.ax1x.com/2023/04/24/p9mdEwt.png" alt="p9mdEwt.png"></a></p>
<p>​    在spring-mvc.xml文件中配置文件上传解析器</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9mdXcQ"><img src="https://s1.ax1x.com/2023/04/24/p9mdXcQ.png" alt="p9mdXcQ.png"></a></p>
<p>​    在后台代码中，<strong>形参设置时应该与请求参数(form表单传递过来的参数)相一致</strong>，只不过传递的文件会被SpringMVC封装为一个叫MultipartFile类型的对象，其名字应该与form表单中file的name属性值一致</p>
<p>​    在后台代码接收前面upload.jsp中form表单传递的值</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9m0QZn"><img src="https://s1.ax1x.com/2023/04/24/p9m0QZn.png" alt="p9m0QZn.png"></a></p>
<p>​    除了打印，将接收到的文件转存到磁盘某个位置(未来有服务器可以存到网络地址)，<code>getOriginaFilename()</code>作用为获得上传文件的文件名</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9mBFOJ"><img src="https://s1.ax1x.com/2023/04/24/p9mBFOJ.png" alt="p9mBFOJ.png"></a></p>
<p><strong>多文件上传步骤</strong></p>
<p>​    与单文件上传一样，注意后台形参接收时与请求参数一致就行</p>
<p>​    如果前台<code>&lt;input type=&quot;file&quot; name =&quot;xxx&quot;&gt;</code> 多个name的属性值一样，那么后台使用数组接收就行，注意：数组名应与name属性值一致</p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9mB7A1"><img src="https://s1.ax1x.com/2023/04/24/p9mB7A1.png" alt="p9mB7A1.png"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgse.com/i/p9mBbh6"><img src="https://s1.ax1x.com/2023/04/24/p9mBbh6.png" alt="p9mBbh6.png"></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/25/Spring04/" data-id="clh1h90vu001t64wch04wh202" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSM/" rel="tag">SSM</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2023/04/25/Spring03/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Spring03</div>
    </a>
  
</nav>

  
</article>

</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023 nature<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>